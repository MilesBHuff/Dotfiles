## Part of PAM
## Copyright (C) by Miles Bradley Huff from 2016-2021 per the LGPL3 (the Third Lesser GNU Public License)
##
## Each line describes a limit for a user in the form:
## DOMAIN  TYPE  ITEM  VALUE  REASON
##
## DOMAIN can be:
## * a user name
## * a group name, with @group syntax
## * the wildcard *, for default entry
## * the wildcard %, can be also used with %group syntax, for maxlogin limit
##
## TYPE can have the two values:
## * "soft" for enforcing soft limits
## * "hard" for enforcing hard limits
##
## ITEM can be one of the following:
## * as            address space limit (KB)
## * core          limits the core file size (KB)
## * cpu           max CPU time (MIN)
## * data          max data size (KB)
## * fsize         maximum filesize (KB)
## * locks         max number of file locks the user can hold
## * maxlogins     max number of logins for this user
## * maxsyslogins  max number of logins on the system
## * memlock       max locked-in-memory address space (KB)
## * msgqueue      max memory used by POSIX message queues (bytes)
## * nice          min nice-level allowed: [-20 ... 19]
## * nofile        max number of open file descriptors
## * nproc         max number of processes
## * priority      the priority to run user process with
## * rss           max resident set size (KB)
## * rtprio        max realtime priority
## * sigpending    max number of pending signals
## * stack         max stack size (KB)
##
## VALUE and REASON are self-explanatory.

## Sorted alphabetically by item, then reverse-alphabetically by type, then by domain.
#DOMAIN  TYPE  ITEM       VALUE  ## REASON
*        soft  core           0  ## Prevent corefiles from being generated by default.
*        hard  core   unlimited  ## Allow corefiles to be temporarily enabled.
*        soft  memlock       64
*        hard  memlock      128  ## Fixes a warning when using Pipewire.
*        hard  nofile      8192  ## Required for some old games to run (like Stronghold 2).
#root    hard  nofile unlimited  ## Prevent root from not being able to open enough files. (NOTE: Breaks PAM)
*        hard  nproc       2048  ## Prevent fork-bombs from taking out the system.
root     hard  nproc  unlimited  ## Prevent root from not being able to launch enough processes.
*        hard  rss        10000  ## ????
*        hard  nice         -19  ## Prevent non-root users from running a process at minimal niceness.
root     hard  nice         -20  ## Allows root to run a process at minimal niceness to fix the system when unresponsive.
*        soft  priority       0  ## Set the default priority to neutral niceness.
root     soft  priority      -1  ## Start root's processes with slightly lower niceness than others' processes.
